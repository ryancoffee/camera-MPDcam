<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Single Photon Counting Camera SDK: Additional methods</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="MPD+SPC3_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Single Photon Counting Camera SDK
   &#160;<span id="projectnumber">2.2.0B</span>
   </div>
   <div id="projectbrief">SPC3-SDK</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___add_m.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Additional methods</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga5dde5f5c97f5d3bcf04b95575fe66d1f"><td class="memItemLeft" align="right" valign="top">DllSDKExport <a class="el" href="group___enum.html#gafe63699eafdb0b69d032828ea3f157d3">SPC3Return</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___add_m.html#ga5dde5f5c97f5d3bcf04b95575fe66d1f">SPC3_Save_Img_Disk</a> (<a class="el" href="group___enum.html#gaa61696df8eccf9a32c4769b1037ffc07">SPC3_H</a> spc3, <a class="el" href="_s_p_c3___s_d_k_8h.html#a013e5c8ea50dc5e45744bc26c28ab2f6">UInt32</a> Start_Img, <a class="el" href="_s_p_c3___s_d_k_8h.html#a013e5c8ea50dc5e45744bc26c28ab2f6">UInt32</a> End_Img, char *filename, <a class="el" href="group___enum.html#ga668f80b66f368a1f46233e43ab78e124">OutFileFormat</a> mode)</td></tr>
<tr class="separator:ga5dde5f5c97f5d3bcf04b95575fe66d1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8b10ddf76257f30ce4dfde4067894038"><td class="memItemLeft" align="right" valign="top">DllSDKExport <a class="el" href="group___enum.html#gafe63699eafdb0b69d032828ea3f157d3">SPC3Return</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___add_m.html#ga8b10ddf76257f30ce4dfde4067894038">SPC3_Save_Averaged_Img_Disk</a> (<a class="el" href="group___enum.html#gaa61696df8eccf9a32c4769b1037ffc07">SPC3_H</a> spc3, int counter, char *filename, <a class="el" href="group___enum.html#ga668f80b66f368a1f46233e43ab78e124">OutFileFormat</a> mode)</td></tr>
<tr class="separator:ga8b10ddf76257f30ce4dfde4067894038"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga36d7c309324002518d83ec7606c43a46"><td class="memItemLeft" align="right" valign="top">DllSDKExport <a class="el" href="group___enum.html#gafe63699eafdb0b69d032828ea3f157d3">SPC3Return</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___add_m.html#ga36d7c309324002518d83ec7606c43a46">SPC3_Save_FLIM_Disk</a> (<a class="el" href="group___enum.html#gaa61696df8eccf9a32c4769b1037ffc07">SPC3_H</a> spc3, char *filename, <a class="el" href="group___enum.html#ga668f80b66f368a1f46233e43ab78e124">OutFileFormat</a> mode)</td></tr>
<tr class="separator:ga36d7c309324002518d83ec7606c43a46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad03565e87c41f49329ad7f6d04a16126"><td class="memItemLeft" align="right" valign="top">DllSDKExport <a class="el" href="group___enum.html#gafe63699eafdb0b69d032828ea3f157d3">SPC3Return</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___add_m.html#gad03565e87c41f49329ad7f6d04a16126">SPC3_ReadSPC3FileFormatImage</a> (char *filename, <a class="el" href="_s_p_c3___s_d_k_8h.html#a013e5c8ea50dc5e45744bc26c28ab2f6">UInt32</a> ImgIdx, <a class="el" href="_s_p_c3___s_d_k_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> counter, <a class="el" href="_s_p_c3___s_d_k_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> *Img, char header[1024])</td></tr>
<tr class="separator:gad03565e87c41f49329ad7f6d04a16126"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2f8901c7892f12dd497a45b62f4e642f"><td class="memItemLeft" align="right" valign="top">DllSDKExport <a class="el" href="group___enum.html#gafe63699eafdb0b69d032828ea3f157d3">SPC3Return</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___add_m.html#ga2f8901c7892f12dd497a45b62f4e642f">SPC3_Average_Img</a> (<a class="el" href="group___enum.html#gaa61696df8eccf9a32c4769b1037ffc07">SPC3_H</a> spc3, double *Img, int counter)</td></tr>
<tr class="separator:ga2f8901c7892f12dd497a45b62f4e642f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae36ef94c7965cdbf4e850e3ae37b192f"><td class="memItemLeft" align="right" valign="top">DllSDKExport <a class="el" href="group___enum.html#gafe63699eafdb0b69d032828ea3f157d3">SPC3Return</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___add_m.html#gae36ef94c7965cdbf4e850e3ae37b192f">SPC3_StDev_Img</a> (<a class="el" href="group___enum.html#gaa61696df8eccf9a32c4769b1037ffc07">SPC3_H</a> spc3, double *Img, int counter)</td></tr>
<tr class="separator:gae36ef94c7965cdbf4e850e3ae37b192f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga079b0fdfb84bc52ddd479c2dce4325cf"><td class="memItemLeft" align="right" valign="top">DllSDKExport <a class="el" href="group___enum.html#gafe63699eafdb0b69d032828ea3f157d3">SPC3Return</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___add_m.html#ga079b0fdfb84bc52ddd479c2dce4325cf">SPC3_Set_Correlation_Mode</a> (<a class="el" href="group___enum.html#gaa61696df8eccf9a32c4769b1037ffc07">SPC3_H</a> spc3, <a class="el" href="group___enum.html#ga626d2c9e6d80498715c9b4cb0d1e1a7d">CorrelationMode</a> CM, int NCorrChannels, <a class="el" href="group___enum.html#ga5d74787dedbc4e11c1ab15bf487e61f8">State</a> s)</td></tr>
<tr class="separator:ga079b0fdfb84bc52ddd479c2dce4325cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac60e135e1d94436f8a11dfcca1e41e75"><td class="memItemLeft" align="right" valign="top">DllSDKExport <a class="el" href="group___enum.html#gafe63699eafdb0b69d032828ea3f157d3">SPC3Return</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___add_m.html#gac60e135e1d94436f8a11dfcca1e41e75">SPC3_Correlation_Img</a> (<a class="el" href="group___enum.html#gaa61696df8eccf9a32c4769b1037ffc07">SPC3_H</a> spc3, int counter)</td></tr>
<tr class="separator:gac60e135e1d94436f8a11dfcca1e41e75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga03d0b8be23a3a0bc026851d080fc0954"><td class="memItemLeft" align="right" valign="top">DllSDKExport <a class="el" href="group___enum.html#gafe63699eafdb0b69d032828ea3f157d3">SPC3Return</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___add_m.html#ga03d0b8be23a3a0bc026851d080fc0954">SPC3_Save_Correlation_Img</a> (<a class="el" href="group___enum.html#gaa61696df8eccf9a32c4769b1037ffc07">SPC3_H</a> spc3, char *filename)</td></tr>
<tr class="separator:ga03d0b8be23a3a0bc026851d080fc0954"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Additional utility functions. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga2f8901c7892f12dd497a45b62f4e642f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DllSDKExport <a class="el" href="group___enum.html#gafe63699eafdb0b69d032828ea3f157d3">SPC3Return</a> SPC3_Average_Img </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___enum.html#gaa61696df8eccf9a32c4769b1037ffc07">SPC3_H</a>&#160;</td>
          <td class="paramname"><em>spc3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>counter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the average image. </p>
<p>Once a set of images have been acquired by <a class="el" href="group___get.html#gafd925e789cb0d273548778e848699e69" title="Get a selected number of images. ">SPC3_Get_Snap()</a>, an image which contains for each pixel the average value over all the acquired images is calculated. This is stored in the Img array. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spc3</td><td>SPC3 handle. </td></tr>
    <tr><td class="paramname">Img</td><td>Pointer to the output double image array. The size of the array must be at least 8 kB. </td></tr>
    <tr><td class="paramname">counter</td><td>Desired counter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK </dd>
<dd>
NULL_POINTER The provided SPC3_H points to an empty memory location </dd>
<dd>
INVALID_OP No images were acquired </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="_s_d_k__example_8c-example.html#a17">SDK_Example.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="gac60e135e1d94436f8a11dfcca1e41e75"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DllSDKExport <a class="el" href="group___enum.html#gafe63699eafdb0b69d032828ea3f157d3">SPC3Return</a> SPC3_Correlation_Img </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___enum.html#gaa61696df8eccf9a32c4769b1037ffc07">SPC3_H</a>&#160;</td>
          <td class="paramname"><em>spc3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>counter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the autocorrelation function. </p>
<p>The autocorrelation function is estimated for each pixel. This function requires that a set of images have been previously acquired by <a class="el" href="group___get.html#gafd925e789cb0d273548778e848699e69" title="Get a selected number of images. ">SPC3_Get_Snap()</a> and that the correlation mode is set to Enabled. Depending on the selected algorithm and the total number of collected images, this function can take several tens of seconds. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spc3</td><td>SPC3 handle </td></tr>
    <tr><td class="paramname">counter</td><td>Desired counter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK </dd>
<dd>
NULL_POINTER The provided SPC3_H points to an empty memory location </dd>
<dd>
INVALID_OP No images were acquired or the correlation mode was not enabled </dd>
<dd>
NOT_EN_MEMORY Not enough memory to calculate the correlation function </dd>
<dd>
INVALID_NIMG_CORRELATION The required number of time lags of the correlation function can not be calculated from the available number of images </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___add_m.html#ga079b0fdfb84bc52ddd479c2dce4325cf" title="Enable the correlation mode. ">SPC3_Set_Correlation_Mode()</a> </dd>
<dd>
<a class="el" href="group___get.html#gafd925e789cb0d273548778e848699e69" title="Get a selected number of images. ">SPC3_Get_Snap()</a> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="_s_d_k__example_8c-example.html#a38">SDK_Example.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="gad03565e87c41f49329ad7f6d04a16126"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DllSDKExport <a class="el" href="group___enum.html#gafe63699eafdb0b69d032828ea3f157d3">SPC3Return</a> SPC3_ReadSPC3FileFormatImage </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_s_p_c3___s_d_k_8h.html#a013e5c8ea50dc5e45744bc26c28ab2f6">UInt32</a>&#160;</td>
          <td class="paramname"><em>ImgIdx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_s_p_c3___s_d_k_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a>&#160;</td>
          <td class="paramname"><em>counter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_s_p_c3___s_d_k_8h.html#accc14a7c843716dfed734f3a03e8d2b6">UInt16</a> *&#160;</td>
          <td class="paramname"><em>Img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>header</em>[1024]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read a spc3 image from file. </p>
<p>Read the image at the ImgIdx position and for desired counter in the given spc3 file from the hard disk. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>Name of the output file </td></tr>
    <tr><td class="paramname">ImgIdx</td><td>Image index in the file. Accepted values: 1 ... 65534 </td></tr>
    <tr><td class="paramname">counter</td><td>Desired counter. Accepted values: 1 ... 3 </td></tr>
    <tr><td class="paramname">Img</td><td>Pointer to the output image array. The size of the array must be at least 2 kB. </td></tr>
    <tr><td class="paramname">header</td><td>Array in which the header of SPC3 file is saved. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK </dd>
<dd>
UNABLE_READ_FILE Unable to read the input file. Is it a SPC3 file? </dd>
<dd>
OUT_OF_BOUND The desired counter or image exceeds the file size. </dd>
<dd>
NOT_EN_MEMORY Not enough memory to store the data contained in the file </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="_s_d_k__example_8c-example.html#a35">SDK_Example.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga8b10ddf76257f30ce4dfde4067894038"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DllSDKExport <a class="el" href="group___enum.html#gafe63699eafdb0b69d032828ea3f157d3">SPC3Return</a> SPC3_Save_Averaged_Img_Disk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___enum.html#gaa61696df8eccf9a32c4769b1037ffc07">SPC3_H</a>&#160;</td>
          <td class="paramname"><em>spc3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>counter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___enum.html#ga668f80b66f368a1f46233e43ab78e124">OutFileFormat</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save the selected images on the hard disk. </p>
<p>This function saves the average of the images acquired by a specified counter on the hard disk. File format can be proprietary SPC3 or TIFF, as explained in <a class="el" href="group___add_m.html#ga5dde5f5c97f5d3bcf04b95575fe66d1f" title="Save the selected images on the hard disk. ">SPC3_Save_Img_Disk()</a> function. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spc3</td><td>SPC3 handle </td></tr>
    <tr><td class="paramname">counter</td><td>Number of the counter to be saved </td></tr>
    <tr><td class="paramname">filename</td><td>Name of the output file. Value is referenced. </td></tr>
    <tr><td class="paramname">mode</td><td>File format of the output images </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK </dd>
<dd>
NULL_POINTER The provided SPC3_H points to an empty memory location </dd>
<dd>
INVALID_OP No images were acquired or the selected range of images is not valid </dd>
<dd>
UNABLE_CREATE_FILE Unable to create the output file </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="_s_d_k__example_8c-example.html#a32">SDK_Example.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga03d0b8be23a3a0bc026851d080fc0954"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DllSDKExport <a class="el" href="group___enum.html#gafe63699eafdb0b69d032828ea3f157d3">SPC3Return</a> SPC3_Save_Correlation_Img </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___enum.html#gaa61696df8eccf9a32c4769b1037ffc07">SPC3_H</a>&#160;</td>
          <td class="paramname"><em>spc3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save the autocorrelation functions on the hard disk. </p>
<p>This function requires that <a class="el" href="group___add_m.html#ga079b0fdfb84bc52ddd479c2dce4325cf" title="Enable the correlation mode. ">SPC3_Set_Correlation_Mode()</a> has been previously called. The autocorrelation data are stored in a .spcc binary file. The spcc binary file is organized as follows:</p>
<table class="doxtable">
<tr>
<th>Byte offset </th><th>Type </th><th>Number of bytes </th><th>Description  </th></tr>
<tr>
<td>0 </td><td>int </td><td>4 </td><td>Number of lag-times (NLag) </td></tr>
<tr>
<td>4 </td><td>int </td><td>4 </td><td>Number of pixels. This value must be 1024 (NPix) </td></tr>
<tr>
<td>8 </td><td>int </td><td>4 </td><td>Selected algorithm: 0 Linear, 1 Multi-tau </td></tr>
<tr>
<td>12 </td><td>double </td><td>8 * NLag </td><td>Autocorrelation values of the first pixel </td></tr>
<tr>
<td>12 + 8 * NLag </td><td>double </td><td>8 * NLag </td><td>Autocorrelation values of the second pixel </td></tr>
<tr>
<td>... </td><td>double </td><td>8 * NLag </td><td>Autocorrelation values of the N<sup>th</sup> pixel </td></tr>
<tr>
<td>12 + 8 * (NPix-1) * NLag </td><td>double </td><td>8 * NLag </td><td>Autocorrelation values of the last pixel </td></tr>
<tr>
<td>12 + 8 * NPix * NLag </td><td>double </td><td>8 * NLag </td><td>Lag times </td></tr>
</table>
<p>A simple Matlab script can be used to read the data for further processing or visualization.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;MPD .SPCC file reader</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;function data = Read_SPCC(fname)</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;f = fopen(fname,&#39;rb&#39;);</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;buf = fread(f,3,&#39;int32&#39;);</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;data.NChannel = buf(1);</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;data.NPixel = buf(2);</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;data.IsMultiTau = (buf(3) == 1);</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;data.CorrelationImage = reshape(fread(f,data.NPixel*data.NChannel,&#39;float64&#39;), ...</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;            data.NChannel,32,32);</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;data.CorrelationImage = permute(data.CorrelationImage,[2 3 1]);</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;data.t=fread(f, data.NChannel,&#39;float64&#39;);</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;fclose(f);</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spc3</td><td>SPC3 handle </td></tr>
    <tr><td class="paramname">filename</td><td>Name of the output file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK </dd>
<dd>
NULL_POINTER The provided SPC3_H points to an empty memory location </dd>
<dd>
INVALID_OP The autocorrelation, which has been calculated, is not valid </dd>
<dd>
UNABLE_CREATE_FILE Unable to create the output file </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___add_m.html#ga079b0fdfb84bc52ddd479c2dce4325cf" title="Enable the correlation mode. ">SPC3_Set_Correlation_Mode()</a> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="_s_d_k__example_8c-example.html#a39">SDK_Example.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga36d7c309324002518d83ec7606c43a46"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DllSDKExport <a class="el" href="group___enum.html#gafe63699eafdb0b69d032828ea3f157d3">SPC3Return</a> SPC3_Save_FLIM_Disk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___enum.html#gaa61696df8eccf9a32c4769b1037ffc07">SPC3_H</a>&#160;</td>
          <td class="paramname"><em>spc3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___enum.html#ga668f80b66f368a1f46233e43ab78e124">OutFileFormat</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save the FLIM acquisition on the hard disk. </p>
<p>This function saves the acquired FLIM images on the hard disk. The output file format can be either a multipage TIFF with embedded acquisition metadata according to the OME-TIFF format or the proprietary SPC3 format. For standard measurements, use the SPC3_Save_Img__Disk() function. For both formats, image data is composed by a set of images following a "FLIM first, time second scheme", i.e. with the following frame sequence: 1st gate shift of 1st FLIM measurement, 2nd gate shift of 1st FLIM measurement,...,nth gate shift of 1st FLIM measurement,1st gate shift of 2nd FLIM measurement, 2nd gate shift of 2nd FLIM measurement,...,nth gate shift of 2nd FLIM measurement,etc. OME-TIFF file could be opened with any image reader compatible with TIFF file, since metadata are saved into the Image Description tag in XML format. In order to decode OME-TIFF metadata, it is possible to use free OME-TIFF reader, such as OMERO or the Bio-Formats plugin for ImageJ. For more details see the OME-TIFF web site: <a href="http://www.openmicroscopy.org/site/support/ome-model/ome-tiff/">http://www.openmicroscopy.org/site/support/ome-model/ome-tiff/</a>. OME-TIFF metadata include the ModuloAlongT tag, which allows the processing of FLIM data with dedicated FLIM software such as FLIMfit (see <a href="http://www.openmicroscopy.org/site/products/partner/flimfit">http://www.openmicroscopy.org/site/products/partner/flimfit</a>). SPC3 file are binary files composed by a header with acquisition metadata followed by raw image data, containg the 8/16 bit pixel values in row-major order. The byte order is little-endian for the 16 bit images. The header is composed by a signature of 8 byte (0x4d5044ff03000001, starting with 4d on byte 0), and a metadata section of 1024 byte, as follows (multibyte fields are little-endian):</p>
<table class="doxtable">
<tr>
<th>Byte offset </th><th>Number of bytes </th><th>Description  </th></tr>
<tr>
<td>0 </td><td>10 </td><td>Unique camera ID (string) </td></tr>
<tr>
<td>10 </td><td>32 </td><td>SPC3 serial number (string) </td></tr>
<tr>
<td>42 </td><td>2 </td><td>Firmware version (1.11 saved as 111) </td></tr>
<tr>
<td>44 </td><td>1 </td><td>Firmware custom version (standard = 0) </td></tr>
<tr>
<td>45 </td><td>20 </td><td>Acquisition data&amp;time (string) </td></tr>
<tr>
<td>65 </td><td>35 </td><td>Unused </td></tr>
<tr>
<td>100 </td><td>1 </td><td>Number of rows </td></tr>
<tr>
<td>101 </td><td>1 </td><td>Number of colums </td></tr>
<tr>
<td>102 </td><td>1 </td><td>Bit per pixel </td></tr>
<tr>
<td>103 </td><td>1 </td><td>Counters in use </td></tr>
<tr>
<td>104 </td><td>2 </td><td>Hardware integration time (multiples of 10ns) </td></tr>
<tr>
<td>106 </td><td>2 </td><td>Summed frames </td></tr>
<tr>
<td>108 </td><td>1 </td><td>Dead time correction enabled </td></tr>
<tr>
<td>109 </td><td>1 </td><td>Internal gate duty-cycle for counter1 (0-100%) </td></tr>
<tr>
<td>110 </td><td>2 </td><td>Holdoff time (ns) </td></tr>
<tr>
<td>112 </td><td>1 </td><td>Background subtraction enabled </td></tr>
<tr>
<td>113 </td><td>1 </td><td>Data for counters 1 and 2 are signed </td></tr>
<tr>
<td>114 </td><td>4 </td><td>Number of frames in the file </td></tr>
<tr>
<td>118 </td><td>1 </td><td>Image is averaged </td></tr>
<tr>
<td>119 </td><td>1 </td><td>Counter which is averaged </td></tr>
<tr>
<td>120 </td><td>2 </td><td>Number of averaged images </td></tr>
<tr>
<td>122 </td><td>1 </td><td>Internal gate duty-cycle for counter2 (0-100%) </td></tr>
<tr>
<td>123 </td><td>1 </td><td>Internal gate duty-cycle for counter3 (0-100%) </td></tr>
<tr>
<td>124 </td><td>2 </td><td>Frames per sync-in pulse </td></tr>
<tr>
<td>126 </td><td>2 </td><td>Number of pixels </td></tr>
<tr>
<td>128 </td><td>72 </td><td>Unused </td></tr>
<tr>
<td>200 </td><td>1 </td><td>FLIM enabled </td></tr>
<tr>
<td>201 </td><td>2 </td><td>FLIM shift % </td></tr>
<tr>
<td>203 </td><td>2 </td><td>FLIM steps </td></tr>
<tr>
<td>205 </td><td>4 </td><td>FLIM frame length (multiples of 10ns) </td></tr>
<tr>
<td>209 </td><td>2 </td><td>FLIM bin width (fs) </td></tr>
<tr>
<td>211 </td><td>89 </td><td>Unused </td></tr>
<tr>
<td>300 </td><td>1 </td><td>PDE measurement </td></tr>
<tr>
<td>301 </td><td>2 </td><td>Start wavelength (nm) </td></tr>
<tr>
<td>303 </td><td>2 </td><td>Stop wavelength (nm) </td></tr>
<tr>
<td>305 </td><td>2 </td><td>Step (nm) </td></tr>
<tr>
<td>307 </td><td>717 </td><td>unused </td></tr>
</table>
<p>SPC3 file can be read using the provided ImageJ/Fiji plugin v2.20B. File generated with SDK v1.01 has a different header format and file signature, which is incompatible with plugin v1.11. A command line tool to convert SPC3 file from 1.01 format to 1.11 format is provided.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spc3</td><td>SPC3 handle </td></tr>
    <tr><td class="paramname">filename</td><td>Name of the output file. Value is referenced. </td></tr>
    <tr><td class="paramname">mode</td><td>File format of the output images </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK </dd>
<dd>
NULL_POINTER The provided SPC3_H points to an empty memory location </dd>
<dd>
INVALID_OP No images were acquired or the selected range of images is not valid </dd>
<dd>
UNABLE_CREATE_FILE Unable to create the output file </dd></dl>

</div>
</div>
<a class="anchor" id="ga5dde5f5c97f5d3bcf04b95575fe66d1f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DllSDKExport <a class="el" href="group___enum.html#gafe63699eafdb0b69d032828ea3f157d3">SPC3Return</a> SPC3_Save_Img_Disk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___enum.html#gaa61696df8eccf9a32c4769b1037ffc07">SPC3_H</a>&#160;</td>
          <td class="paramname"><em>spc3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_s_p_c3___s_d_k_8h.html#a013e5c8ea50dc5e45744bc26c28ab2f6">UInt32</a>&#160;</td>
          <td class="paramname"><em>Start_Img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_s_p_c3___s_d_k_8h.html#a013e5c8ea50dc5e45744bc26c28ab2f6">UInt32</a>&#160;</td>
          <td class="paramname"><em>End_Img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___enum.html#ga668f80b66f368a1f46233e43ab78e124">OutFileFormat</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save the selected images on the hard disk. </p>
<p>This function saves the acquired images on the hard disk. The output file format can be either a multipage TIFF with embedded acquisition metadata according to the OME-TIFF format or the proprietary SPC3 format. For FLIM measurements, use the <a class="el" href="group___add_m.html#ga36d7c309324002518d83ec7606c43a46" title="Save the FLIM acquisition on the hard disk. ">SPC3_Save_FLIM_Disk()</a> function. If TIFF format is selected, the desired images will be saved in a file for each enabled counter. If SPC3 format is selected a single SPC3 file will be created for all the counters. OME-TIFF file could be opened with any image reader compatible with TIFF file, since metadata are saved into the Image Description tag in XML format. In order to decode OME-TIFF metadata, it is possible to use free OME-TIFF reader, such as OMERO or the Bio-Formats plugin for ImageJ. For more details see the OME-TIFF web site: <a href="http://www.openmicroscopy.org/site/support/ome-model/ome-tiff/">http://www.openmicroscopy.org/site/support/ome-model/ome-tiff/</a>. If subarray acquisition is enabled and the number of pixels is not an integer multiple of 32, the TIFF files will have has much rows of 32 pixels needed to accomodate all pixels, and the missing pixels will be put to 0, e.g. if 67 pixels are acquired, the TIFF image will be 32x3, with the last 29 pixels of the 3rd row set to 0. SPC3 file are binary files composed by a header with acquisition metadata followed by raw image data, containg the 8/16 bit pixel values in row-major order. The byte order is little-endian for the 16 bit images. In case more counters are used, data are interlaced, i.e. the sequence of frames is the following: 1st frame of 1st counter, 1st frame of 2nd counter, 1st frame of 3rd counter, 2nd frame of 1st counter, etc. The header is composed by a signature of 8 byte (0x4d5044ff03000001, starting with 4d on byte 0), and a metadata section of 1024 byte, as follows (multibyte fields are little-endian):</p>
<table class="doxtable">
<tr>
<th>Byte offset </th><th>Number of bytes </th><th>Description  </th></tr>
<tr>
<td>0 </td><td>10 </td><td>Unique camera ID (string) </td></tr>
<tr>
<td>10 </td><td>32 </td><td>SPC3 serial number (string) </td></tr>
<tr>
<td>42 </td><td>2 </td><td>Firmware version (1.11 saved as 111) </td></tr>
<tr>
<td>44 </td><td>1 </td><td>Firmware custom version (standard = 0) </td></tr>
<tr>
<td>45 </td><td>20 </td><td>Acquisition data&amp;time (string) </td></tr>
<tr>
<td>65 </td><td>35 </td><td>Unused </td></tr>
<tr>
<td>100 </td><td>1 </td><td>Number of rows </td></tr>
<tr>
<td>101 </td><td>1 </td><td>Number of colums </td></tr>
<tr>
<td>102 </td><td>1 </td><td>Bit per pixel </td></tr>
<tr>
<td>103 </td><td>1 </td><td>Counters in use </td></tr>
<tr>
<td>104 </td><td>2 </td><td>Hardware integration time (multiples of 10ns) </td></tr>
<tr>
<td>106 </td><td>2 </td><td>Summed frames </td></tr>
<tr>
<td>108 </td><td>1 </td><td>Dead time correction enabled </td></tr>
<tr>
<td>109 </td><td>1 </td><td>Internal gate duty-cycle for counter1 (0-100%) </td></tr>
<tr>
<td>110 </td><td>2 </td><td>Holdoff time (ns) </td></tr>
<tr>
<td>112 </td><td>1 </td><td>Background subtraction enabled </td></tr>
<tr>
<td>113 </td><td>1 </td><td>Data for counters 1 and 2 are signed </td></tr>
<tr>
<td>114 </td><td>4 </td><td>Number of frames in the file </td></tr>
<tr>
<td>118 </td><td>1 </td><td>Image is averaged </td></tr>
<tr>
<td>119 </td><td>1 </td><td>Counter which is averaged </td></tr>
<tr>
<td>120 </td><td>2 </td><td>Number of averaged images </td></tr>
<tr>
<td>122 </td><td>1 </td><td>Internal gate duty-cycle for counter2 (0-100%) </td></tr>
<tr>
<td>123 </td><td>1 </td><td>Internal gate duty-cycle for counter3 (0-100%) </td></tr>
<tr>
<td>124 </td><td>2 </td><td>Frames per sync-in pulse </td></tr>
<tr>
<td>126 </td><td>2 </td><td>Number of pixels </td></tr>
<tr>
<td>128 </td><td>72 </td><td>Unused </td></tr>
<tr>
<td>200 </td><td>1 </td><td>FLIM enabled </td></tr>
<tr>
<td>201 </td><td>2 </td><td>FLIM shift % </td></tr>
<tr>
<td>203 </td><td>2 </td><td>FLIM steps </td></tr>
<tr>
<td>205 </td><td>4 </td><td>FLIM frame length (multiples of 10ns) </td></tr>
<tr>
<td>209 </td><td>2 </td><td>FLIM bin width (fs) </td></tr>
<tr>
<td>211 </td><td>9 </td><td>Unused </td></tr>
<tr>
<td>220 </td><td>1 </td><td>Multi gate mode: 2 = dual, 3 = triple </td></tr>
<tr>
<td>221 </td><td>2 </td><td>Milti gate mode: start position (-400 - +400) </td></tr>
<tr>
<td>223 </td><td>1 </td><td>Multi gate mode: first gate width (0-100%) </td></tr>
<tr>
<td>224 </td><td>1 </td><td>Multi gate mode: second gate width (0-100%) </td></tr>
<tr>
<td>225 </td><td>1 </td><td>Multi gate mode: third gate width (0-100%) </td></tr>
<tr>
<td>226 </td><td>2 </td><td>Multi gate mode: gap1 (0-800) </td></tr>
<tr>
<td>228 </td><td>2 </td><td>Multi gate mode: gap2 (0-800) </td></tr>
<tr>
<td>230 </td><td>2 </td><td>Multi gate mode: calibrated binwidth in fs </td></tr>
<tr>
<td>232 </td><td>1 </td><td>Coarse gate 1 enabled </td></tr>
<tr>
<td>233 </td><td>2 </td><td>Coarse gate 1 start </td></tr>
<tr>
<td>235 </td><td>2 </td><td>Coarse gate 1 stop </td></tr>
<tr>
<td>237 </td><td>1 </td><td>Coarse gate 2 enabled </td></tr>
<tr>
<td>238 </td><td>2 </td><td>Coarse gate 2 start </td></tr>
<tr>
<td>240 </td><td>2 </td><td>Coarse gate 2 stop </td></tr>
<tr>
<td>242 </td><td>1 </td><td>Coarse gate 3 enabled </td></tr>
<tr>
<td>243 </td><td>2 </td><td>Coarse gate 3 start </td></tr>
<tr>
<td>245 </td><td>2 </td><td>Coarse gate 3 stop </td></tr>
<tr>
<td>247 </td><td>53 </td><td>Unused </td></tr>
<tr>
<td>300 </td><td>1 </td><td>PDE measurement </td></tr>
<tr>
<td>301 </td><td>2 </td><td>Start wavelength (nm) </td></tr>
<tr>
<td>303 </td><td>2 </td><td>Stop wavelength (nm) </td></tr>
<tr>
<td>305 </td><td>2 </td><td>Step (nm) </td></tr>
<tr>
<td>307 </td><td>717 </td><td>unused </td></tr>
</table>
<p>SPC3 file can be read using the provided ImageJ/Fiji plugin v2.01B. File generated with SDK v1.01 has a different header format and file signature, which is incompatible with plugin v1.11. A command line tool to convert SPC3 file from 1.01 format to 1.11 format is provided.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spc3</td><td>SPC3 handle </td></tr>
    <tr><td class="paramname">Start_Img</td><td>Index of the first image to save. Accepted values: 1 ... Number of acquired images </td></tr>
    <tr><td class="paramname">End_Img</td><td>Index of the last image to save. Accepted values: Start_Img ... Number of acquired images </td></tr>
    <tr><td class="paramname">filename</td><td>Name of the output file. Value is referenced. </td></tr>
    <tr><td class="paramname">mode</td><td>File format of the output images </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK </dd>
<dd>
NULL_POINTER The provided SPC3_H points to an empty memory location </dd>
<dd>
INVALID_OP No images were acquired or the selected range of images is not valid </dd>
<dd>
UNABLE_CREATE_FILE Unable to create the output file </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="_s_d_k__example_8c-example.html#a22">SDK_Example.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga079b0fdfb84bc52ddd479c2dce4325cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DllSDKExport <a class="el" href="group___enum.html#gafe63699eafdb0b69d032828ea3f157d3">SPC3Return</a> SPC3_Set_Correlation_Mode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___enum.html#gaa61696df8eccf9a32c4769b1037ffc07">SPC3_H</a>&#160;</td>
          <td class="paramname"><em>spc3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___enum.html#ga626d2c9e6d80498715c9b4cb0d1e1a7d">CorrelationMode</a>&#160;</td>
          <td class="paramname"><em>CM</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>NCorrChannels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___enum.html#ga5d74787dedbc4e11c1ab15bf487e61f8">State</a>&#160;</td>
          <td class="paramname"><em>s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable the correlation mode. </p>
<p>This function must be called before invoking <a class="el" href="group___add_m.html#gac60e135e1d94436f8a11dfcca1e41e75" title="Calculate the autocorrelation function. ">SPC3_Correlation_Img()</a>. When this function is called, the memory required to save the new data is allocated in the heap and the previously stored data are cancelled. The deallocation of this memory is automatically performed when the SPC3_destr() function is called or by setting the State s equal to Disabled. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spc3</td><td>SPC3 handle </td></tr>
    <tr><td class="paramname">CM</td><td>Selected autocorrelation algorithm </td></tr>
    <tr><td class="paramname">NCorrChannels</td><td>Number of global lag channels. When the linear correlation algorithm is selected, the first NChannel lags are calculated, where NChannel must be greater than 2. This algorithm accepts only a number of images which is a power of 2. For example, if 1025 images were acquired, only 1024 images are used to calculate the autocorrelation function. In case of Multi-tau algorithm, it defines the number of channel groups. The first group has 16 lags of duration equal to the exposure time of a frame. The following groups have 8 lags each, spaced at 2^i * Exposure time. </td></tr>
    <tr><td class="paramname">s</td><td>Enable or Disable the correlation mode </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK </dd>
<dd>
NULL_POINTER The provided SPC3_H points to an empty memory location </dd>
<dd>
OUT_OF_BOUND NCorrChannels must be greater than zero for the Multi-tau algorithm and greater than 2 for the Linear one </dd>
<dd>
NOT_EN_MEMORY There is not enough memory to enable the correlation mode </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___add_m.html#gac60e135e1d94436f8a11dfcca1e41e75" title="Calculate the autocorrelation function. ">SPC3_Correlation_Img()</a> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="_s_d_k__example_8c-example.html#a36">SDK_Example.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="gae36ef94c7965cdbf4e850e3ae37b192f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DllSDKExport <a class="el" href="group___enum.html#gafe63699eafdb0b69d032828ea3f157d3">SPC3Return</a> SPC3_StDev_Img </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___enum.html#gaa61696df8eccf9a32c4769b1037ffc07">SPC3_H</a>&#160;</td>
          <td class="paramname"><em>spc3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>counter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the standard deviation image. </p>
<p>Once a set of images have been acquired by <a class="el" href="group___get.html#gafd925e789cb0d273548778e848699e69" title="Get a selected number of images. ">SPC3_Get_Snap()</a>, an image which contains for each pixel the standard deviation over all the acquired images is calculated. This is stored in the Img array. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spc3</td><td>Pointer to the SPC3 handle </td></tr>
    <tr><td class="paramname">Img</td><td>Pointer to the output double image array. The size of the array must be at least 8 KB. </td></tr>
    <tr><td class="paramname">counter</td><td>Desired counter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK </dd>
<dd>
NULL_POINTER The provided SPC3_H points to an empty memory location </dd>
<dd>
INVALID_OP No images were acquired </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Oct 19 2018 10:32:44 for Single Photon Counting Camera SDK by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
